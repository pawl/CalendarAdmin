{% extends 'admin/base.html' %}
{% import 'admin/layout.html' as layout with context -%}

{% block head_css %}
    <link href="{{ admin_static.url(filename='bootstrap/bootstrap3/css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ admin_static.url(filename='bootstrap/bootstrap3/css/bootstrap-theme.min.css') }}" rel="stylesheet">
    <link href="{{ admin_static.url(filename='admin/css/bootstrap3/admin.css') }}" rel="stylesheet">
{% endblock %}

{% block head_tail %}
  {{ super() }}
  <link href="{{ url_for('static', filename='css/layout.css') }}" rel="stylesheet">
{% endblock %}

{% block page_body %}
<div id="wrapper">
	<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			{% block brand %}
			  <a class="navbar-brand" href="/"><img src="{{ url_for('static', filename='img/calendar_admin_logo.jpg') }}" alt="Calendar Admin Logo"></a>
			{% endblock %}
		</div>
		<!-- /.navbar-header -->

		<ul class="nav navbar-top-links navbar-right">
			{% block menu_links %}
				{{ layout.menu_links() }}
			{% endblock %}
			
			{# currently unused, but access_control = "Section to the right of the menu (can be used to add login/logout buttons)" #}
			{% block access_control %}
			{% endblock %}
		</ul>
		<!-- /.navbar-top-links -->

		{% block sidebar_block %}
			<div class="navbar-default navbar-static-side" role="navigation">
                <div class="sidebar-nav navbar-collapse">
					<ul class="nav" id="side-menu">
						{% block main_menu %}
							{{ layout.menu() }}
						{% endblock %}
					</ul>
					<!-- /#side-menu -->
				</div>
				<!-- /.sidebar-collapse -->
			</div>
		{% endblock %}
		<!-- /.navbar-static-side -->
	</nav>
	<div id="page-wrapper">
		{% block messages %}
			{{ layout.messages() }}
		{% endblock %}
		
		{% block page_title_block %}
			<style>
			#page-wrapper {
				min-height: 1300px;
			}
			</style>
			<div class="row">
				<div class="col-lg-12">
					<h1 class="page-header">{{ admin_view.name }}</h1>
				</div>
				<!-- /.col-lg-12 -->
			</div>
		{% endblock %}

		{% set render_ctx = h.resolve_ctx() %}

		{% block body %}{% endblock %}
	</div>
</div>
{% endblock %}

{% block tail_js %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/sb-admin-2.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='js/metisMenu.min.js') }}" type="text/javascript"></script>
{% endblock %}